<!doctype html>
<html lang="en">
  <head>
    <%- include('../partials/head'); %>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <!-- Custom styling -->
    <%- compiled_stylesheet_tag('PLR.css') %>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="img/favicon/favicon.ico" />
    <!-- Google Icons -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
  </head>
  <body>
    <%- include('../partials/navbar'); %>
    <!-- Main content -->
    <main class="container-fluid">
      <!-- Fullscreen button -->
      <button id="fullscreenButton" class="btn btn-small btn-dark d-flex align-items-center m-4">
        <span class="material-symbols-outlined pr-1"> fullscreen </span>
        Fullscreen
      </button>
      <div class="row">
        <!-- First column: Scoreboards (and tabs to navigate between) -->
        <div id="scoreboards-and-tabs" class="col-md-12 col-lg-7">
          <!-- Tabs to navigate between scoreboards -->
          <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
              <!-- Tab 1: Live Scoreboard -->
              <button
                class="nav-link active scoreboard"
                id="nav-live-scoreboard-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-live-scoreboard"
                type="button"
                role="tab"
                aria-controls="nav-live-scoreboard"
                aria-selected="true"
              >
                Live Scoreboard
              </button>
              <!-- Tab 2: Seasonal Scoreboard -->
              <button
                class="nav-link scoreboard"
                id="nav-seasonal-scoreboard-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-seasonal-scoreboard"
                type="button"
                role="tab"
                aria-controls="nav-seasonal-scoreboard"
                aria-selected="false"
              >
                Seasonal Scoreboard
              </button>
              <!-- Tab 3: All-Time Scoreboard -->
              <button
                class="nav-link scoreboard"
                id="nav-all-time-scoreboard-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-all-time-scoreboard"
                type="button"
                role="tab"
                aria-controls="nav-all-time-scoreboard"
                aria-selected="false"
              >
                All-Time Scoreboard
              </button>
            </div>
          </nav>
          <div class="tab-content" id="nav-tabContent">
            <!-- Live Scoreboard -->
            <%- include('../partials/plr/liveScoreboard.ejs'); %>
            <!-- Seasonal Scoreboard -->
            <%- include('../partials/plr/seasonalScoreboard.ejs'); %>
            <!-- All-Time Scoreboard -->
            <%- include('../partials/plr/allTimeScoreboard.ejs'); %>
          </div>
        </div>
        <!-- Second column: Available Quizzes List -->
        <div class="maincardcontainer col-lg-5 col-md-12 mt-3" id="side-cards">
          <!-- Quizzes -->
          <%- include('../partials/plr/availableQuizzesList.ejs'); %>
        </div>
      </div>
    </main>
  </body>
  <!-- For fullscreening the scoreboards... -->
  <script>
    var fullscreenButton = document.getElementById('fullscreenButton');
    var contentToFullscreen = document.getElementById('scoreboards-and-tabs');

    fullscreenButton.addEventListener('click', function () {
      if (contentToFullscreen.requestFullscreen) {
        contentToFullscreen.requestFullscreen();
      } else if (contentToFullscreen.mozRequestFullScreen) {
        /* Firefox */
        contentToFullscreen.mozRequestFullScreen();
      } else if (contentToFullscreen.webkitRequestFullscreen) {
        /* Chrome, Safari and Opera */
        contentToFullscreen.webkitRequestFullscreen();
      } else if (contentToFullscreen.msRequestFullscreen) {
        /* IE/Edge */
        contentToFullscreen.msRequestFullscreen();
      }
    });
  </script>
</html>
